---
import Layout from '../layouts/Layout.astro';
---

<Layout>
	<main class="min-h-screen flex flex-col items-center justify-center px-4 relative" id="projects-hero">
		<div class="fade-in-section content-animation-container text-center max-w-3xl relative z-[40]">
			<h1 class="text-4xl sm:text-6xl md:text-6xl font-bold mb-2 text-center bg-gradient-to-b from-white to-gray-500 bg-clip-text text-transparent">
				My Projects
			</h1>
			<p class="text-base sm:text-lg md:text-xl text-gray-400 text-center">
				A collection of my work and creative endeavors
			</p>
		</div>
	</main>

	<section class="max-w-[1000px] mx-auto relative text-white py-10 px-4 sm:px-6 lg:px-8" id="projects-section">
		<h2 class="text-xl sm:text-2xl lg:text-3xl font-semibold text-left mb-10 mt-20 fade-in-section">Featured Projects</h2>
		
		<!-- Project Card 1 -->
		<div class="fade-in-section relative max-w-[1000px] p-6 pb-10 sm:pb-6 border border-gray-700 rounded-2xl 
			bg-gradient-to-b from-[#2D2F36] to-[#1A1B1F] 
			hover:from-[#8C53DB] hover:to-[#1A1B1F] 
			gradient-transition text-white 
			min-h-[320px] sm:min-h-[600px] lg:min-h-[680px] 
			flex flex-col justify-end group">
			<div class="sm:relative md:absolute top-6 left-6 right-6 flex justify-between items-start">
				<div>
					<h2 class="text-lg sm:text-xl font-semibold text-white">Project Name</h2>
					<p class="text-sm sm:text-base text-gray-400">Project description</p>
				</div>
				<div class="text-gray-400 hover:text-white transition group-hover:translate-y-1">
					<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5">
						<path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7" />
					</svg>
				</div>
			</div>
			<div class="border border-gray-600 rounded-lg overflow-hidden w-full 
				transition-transform duration-300 ease-in-out transform 
				group-hover:-translate-y-2 mt-5 sm:mt-0">
				<img 
					src="https://cdn.glitch.global/922fac7e-fd84-403d-88ed-7f031183e182/Group%203.png?v=1738825520534" 
					alt="Project image"
					class="w-full h-auto object-cover" 
				/>
			</div>
		</div>
	
		<!-- Project Card 2 -->
		<div class="fade-in-section relative max-w-[1000px] p-6 pb-10 sm:pb-6 border border-gray-700 rounded-2xl 
			bg-gradient-to-b from-[#2D2F36] to-[#1A1B1F] 
			hover:from-[#8C53DB] hover:to-[#1A1B1F] 
			gradient-transition text-white 
			min-h-[320px] sm:min-h-[600px] lg:min-h-[680px] 
			flex flex-col justify-end group mt-10">
			<div class="sm:relative md:absolute top-6 left-6 right-6 flex justify-between items-start">
				<div>
					<h2 class="text-lg sm:text-xl font-semibold text-white">Another Project</h2>
					<p class="text-sm sm:text-base text-gray-400">Another project description</p>
				</div>
				<div class="text-gray-400 hover:text-white transition group-hover:translate-y-1">
					<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5">
						<path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7" />
					</svg>
				</div>
			</div>
			<div class="border border-gray-600 rounded-lg overflow-hidden w-full 
				transition-transform duration-300 ease-in-out transform 
				group-hover:-translate-y-2 mt-5 sm:mt-0">
				<img 
					src="https://cdn.glitch.global/922fac7e-fd84-403d-88ed-7f031183e182/Group%203.png?v=1738825520534" 
					alt="Project image"
					class="w-full h-auto object-cover" 
				/>
			</div>
		</div>
	</section>
</Layout>

<style>
	.fade-section {
		opacity: 1;
		transform: translateY(0);
		transition: all 1s ease-out;
	}

	#projects-hero.fade-out {
		opacity: 0;
		transform: translateY(-20px);
	}

	.content-animation-container {
		position: relative;
	}

	.content-set {
		opacity: 1;
		transition: opacity 0.5s ease-in-out;
	}

	.content-set.hidden {
		opacity: 0;
		position: absolute;
	}

	.gradient-transition {
		background-size: 200% 200%;
		transition: all 0.7s cubic-bezier(0.4, 0, 0.2, 1);
	}

	.gradient-transition:hover {
		background-position: 100% 100%;
	}

	.image-slide {
		transform: translateY(48px);
		transition: transform 0.7s cubic-bezier(0.4, 0, 0.2, 1);
		will-change: transform;
	}

	.group:hover .image-slide {
		transform: translateY(0);
	}

	.fade-in-section {
    opacity: 0;
    transform: translateY(20px);
    transition: opacity 0.6s ease-out, transform 0.6s ease-out;
    will-change: opacity, transform;
}

.fade-in-section.is-visible {
    opacity: 1;
    transform: translateY(0);
}

.gradient-transition {
    transition: background 0.3s ease-in-out;
}
</style>

<script is:inline>

const observerOptions = {
    root: null,
    rootMargin: '0px',
    threshold: 0.1
};

function initializeObserver() {
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.classList.add('is-visible');
            }
        });
    }, observerOptions);

    const fadeElements = document.querySelectorAll('.fade-in-section');
    fadeElements.forEach(element => {
        // Reset the element's state
        element.classList.remove('is-visible');
        observer.observe(element);
    });
}

// Initialize on initial page load
document.addEventListener('DOMContentLoaded', initializeObserver);

// Initialize after Astro view transitions
document.addEventListener('astro:page-load', initializeObserver);

// Clean up before view transitions
document.addEventListener('astro:before-swap', () => {
    const fadeElements = document.querySelectorAll('.fade-in-section');
    fadeElements.forEach(element => {
        element.classList.remove('is-visible');
    });
});

// Initialize after content swap
document.addEventListener('astro:after-swap', () => {
    initializeObserver();
});
</script>